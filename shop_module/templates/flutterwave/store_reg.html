<form class="col text-center">
  <script src="https://checkout.flutterwave.com/v3.js"></script>
  <button type="button" onClick="makePayment()" class="btn btn-success col-6 m-4">
    Pay Now</button>
</form>

<script>
  function makePayment() {
    FlutterwaveCheckout({
      public_key: "FLWPUBK_TEST-SANDBOXDEMOKEY-X",
      tx_ref: "hooli-tx-1920bbtyt",
      amount: 5,
      currency: "USD",
      payment_options: "card",
      meta: {
        user_id: '{{ current_user.id }}',
      },
      customer: {
        email: '{{ current_user.email }}',
        name: '{{ current_user.name }}',
        user_id: '{{ current_user.id }}'
      },
      callback: function (data) {
        console.log(data);
      },
      onclose: function () {
        console.log('Closed')
      },
      customizations: {
        title: 'Registration Fee',
        description: 'This is a one-off fee',
        logo: '{{ request.url_root }}' + 'static/shop/img/site-logo.jpg',
      },
    });
  }
</script>